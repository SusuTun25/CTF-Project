import React from "react";
import { Link } from "react-router-dom";
import CategorySubPage from "../components/CategorySubPage";
import ChallengesTable from "../components/ChallengesTable";
import challengeData from "../challengeData";

const BinaryExploitationChallenges = () => {
  
  const binaryExploitationChallenges = challengeData.binaryExploitation || [];
  
  const challenges = binaryExploitationChallenges.map(challenge => ({
    id: challenge.id,
    name: challenge.title,
    difficulty: challenge.difficulty || "N/A",
    points: challenge.points || 100,
    completed: localStorage.getItem(`challenge_${challenge.id}_completed`) === 'true',
    path: `/binary-exploitation/challenges/${challenge.id}`
  }));

  

  const challengesContent = challenges.length > 0 ? (
    <ChallengesTable 
      challenges={challenges} 
      categoryPath="/binary-exploitation"
    />
  ) : (
    <p>No challenges available at the moment.</p>
  );

  return (
    <CategorySubPage
      title="Binary Exploitation Challenges"
      content={challengesContent}
      buttons={[
        {
          text: "Back to Overview",
          path: "/binary-exploitation",
          variant: "secondary",
        },
      ]}
    />
  );
};

export default BinaryExploitationChallenges;